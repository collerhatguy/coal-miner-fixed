(this["webpackJsonpcoal-miner-fixed"]=this["webpackJsonpcoal-miner-fixed"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(1),r=n.n(c),o=n(5),s=n.n(o),a=n(2),u=n(3),l="UpgradeWorker",d="BuyWorker",O="MiningWorker";function j(e,t){switch(t.type){case l:return Object(u.a)(Object(u.a)({},e),{},{productionRate:e.productionRate+1,productionRateCost:2*e.productionRateCost});case d:return Object(u.a)(Object(u.a)({},e),{},{owned:e.owned+t.payload,cost:e.cost+t.payload});case O:return Object(u.a)({},e);default:return e}}function b(e){var t=e.worker,n=e.money,r=e.setMoney,o=e.multiplier,s=Object(c.useReducer)(j,t),u=Object(a.a)(s,2),O=u[0],b=u[1],h=Object(c.useState)(!0),p=Object(a.a)(h,2),C=p[0],R=p[1],f=function(){R((function(e){return!e}))};return Object(c.useEffect)((function(){setInterval((function(){r((function(e){return e+O.owned*O.productionRate}))}),5e3)}),[O]),Object(i.jsxs)("div",{className:"worker",children:[Object(i.jsx)("h2",{className:"worker-name",children:O.name}),Object(i.jsxs)("div",{className:C?"visible":"hidden",children:[Object(i.jsxs)("h2",{children:["Owned: ",Object(i.jsx)("span",{children:O.owned})]}),Object(i.jsxs)("h2",{children:["Cost: ",Object(i.jsx)("span",{children:O.cost*o}),"$"]}),Object(i.jsxs)("h2",{children:["Production Rate: ",Object(i.jsx)("span",{children:O.productionRate}),"$"]}),Object(i.jsxs)("h2",{children:["Upgrade Cost: ",Object(i.jsx)("span",{children:O.productionRateUpgradeCost})]}),Object(i.jsxs)("button",{onClick:function(){return function(){var e=O.cost*o;n<e||(r((function(t){return t-e})),b({type:d,payload:o}))}()},children:["Buy ",Object(i.jsx)("span",{children:o}),"?"]}),Object(i.jsx)("button",{onClick:function(){n<O.productionRateUpgradeCost||(r((function(e){return e-O.productionRateUpgradeCost})),b({type:l}))},children:"Upgrade?"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{tabIndex:"0",style:{display:C?"block":"none"},onClick:function(){return f()},children:"Minimize"}),Object(i.jsx)("button",{tabIndex:"0",style:{display:C?"none":"block"},onClick:function(){return f()},children:"Reveal"})]})]})}var h=n(6),p=n(7),C=function(){function e(t,n,i,c){Object(h.a)(this,e),this.OWNED_LOCAL_STORAGE_KEY="Coalminer.".concat(c,"Owned"),this.COST_LOCAL_STORAGE_KEY="Coalminer.".concat(c,"Cost"),this.UPGRADE_CAP_LOCAL_STORAGE_KEY="Coalminer.".concat(c,"CapLimit"),this.CURRENT_PRODUCTION_RATE_LOCAL_STORAGE_KEY="Coalminer.".concat(c,"CurrentProductionRate"),this.CURRENT_PRODUCTION_RATE_UPGRADE_COST_LOCAL_STORAGE_KEY="Coalminer.".concat(c,"CurrentProductionRateUpgradeCost"),this.name=c,this.owned=0,this.cost=t,this.productionRate=n,this.productionRateUpgradeCost=i,this.saveFiles=[{key:this.OWNED_LOCAL_STORAGE_KEY,value:this.owned},{key:this.COST_LOCAL_STORAGE_KEY,value:this.cost},{key:this.CURRENT_PRODUCTION_RATE_LOCAL_STORAGE_KEY,value:this.productionRate},{key:this.CURRENT_PRODUCTION_RATE_UPGRADE_COST_LOCAL_STORAGE_KEY,value:this.productionRateUpgradeCost}]}return Object(p.a)(e,[{key:"save",value:function(){this.saveFiles.forEach((function(e){localStorage.setItem(e.key,JSON.stringify(e.value))}))}}]),e}(),R=[new C(10,1,100,"Miners"),new C(100,2,1e3,"Drills")];function f(e){var t=e.money,n=e.setMoney,c=e.multiplier;return Object(i.jsx)("div",{id:"worker-list",children:R.map((function(e,r){return Object(i.jsx)(b,{worker:e,money:t,setMoney:n,multiplier:c},r)}))})}n(13);function m(e){var t=e.amount,n=e.setMultiplier;return Object(i.jsxs)("label",{for:"".concat(t,"-multiplier"),children:[t,"x",Object(i.jsx)("input",{type:"radio",value:t,id:"".concat(t,"-multiplier"),name:"multiplier",onClick:function(){n(t)}})]})}function _(e){var t=e.setMultiplier;return Object(i.jsx)("div",{id:"multiplierContainer",children:Object(i.jsxs)("fieldset",{children:[Object(i.jsx)("legend",{children:"Multipliers for buying in mass:"}),Object(i.jsx)(m,{amount:1,setMultiplier:t},"1"),Object(i.jsx)(m,{amount:10,setMultiplier:t},"10"),Object(i.jsx)(m,{amount:100,setMultiplier:t},"100")]})})}var x=function(){var e=Object(c.useState)(10),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(1),s=Object(a.a)(o,2),u=s[0],l=s[1];return Object(c.useEffect)((function(){localStorage.setItem("CoalMiner.money",JSON.stringify(n))}),[n]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:"Coal Miners"}),Object(i.jsxs)("h2",{children:["Current Money: ",n]}),Object(i.jsx)(f,{money:n,setMoney:r,multiplier:u}),Object(i.jsx)(_,{setMultiplier:l})]})};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.7046ea3c.chunk.js.map